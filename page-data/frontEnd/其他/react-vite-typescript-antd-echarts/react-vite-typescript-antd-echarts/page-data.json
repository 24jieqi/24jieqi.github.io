{"componentChunkName":"component---src-templates-blog-post-js","path":"/frontEnd/其他/react-vite-typescript-antd-echarts/react-vite-typescript-antd-echarts/","result":{"data":{"site":{"siteMetadata":{"title":"HJGP技术知识库"}},"markdownRemark":{"id":"4b612652-12ac-5d88-994a-b772149d583d","excerpt":"初始化项目  上下键选择项目所使用的的框架，选择   上下键选择初始化模板，选择  配置别名 修改 tsconfig.json 修改 vite.config.ts 引入 Antd 必要依赖 按需加载 引入 Echarts 安装 Echarts 业务中使用","html":"<h2>初始化项目</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">## 使用 vite 创建项目</span>\n<span class=\"token function\">yarn</span> create vite\n\n<span class=\"token comment\">## 输入项目名称/文件夹名称，例如 test-r</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 485px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6310b4f7325b53142c50cfe75f62fc8a/44c61/YxC09zJbUxQsUM_nX2L8ig.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkUlEQVQY05XLQQrCMBBG4aydf9LJTNo0lBiVoqBLDyC4duE5vP8BpLXgtv2WD56zNFzG4XzUrsRU9rXWnDMzi4iqmpmqxhhDCHEmImbWtq333hGxFZ9P8oj0bHBn6kAEgCaY0T8s5cf1jFcq7378mN4aJmbGWo6A2tg1pIN1g9r6c5oBKNCDFdh0LjOAHUDY7Aub6RXjfNSJNwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img\"\n        title=\"img\"\n        src=\"/static/6310b4f7325b53142c50cfe75f62fc8a/44c61/YxC09zJbUxQsUM_nX2L8ig.png\"\n        srcset=\"/static/6310b4f7325b53142c50cfe75f62fc8a/c26ae/YxC09zJbUxQsUM_nX2L8ig.png 158w,\n/static/6310b4f7325b53142c50cfe75f62fc8a/6bdcf/YxC09zJbUxQsUM_nX2L8ig.png 315w,\n/static/6310b4f7325b53142c50cfe75f62fc8a/44c61/YxC09zJbUxQsUM_nX2L8ig.png 485w\"\n        sizes=\"(max-width: 485px) 100vw, 485px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>上下键选择项目所使用的的框架，选择 <code class=\"language-text\">react</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7dd1a863380e9f79e7af4da955e18ae0/4ee7f/fdGoYzgOn3nnr02pVeGK4A.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.088607594936708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAb0lEQVQI143IsQrCQAyA4Vs1ySWXyxkJoUpHOxUEB33/5xJbdPabfv7ikZc5YzrxsMjsmSiNuZpZ34wxVHUPEVFVdxcRAChd223EGvOikxM/K7yEzohH/IANfu39O8VaW4hX7ndpWenBdK14wL+8Ae43DIG6m8VcAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img\"\n        title=\"img\"\n        src=\"/static/7dd1a863380e9f79e7af4da955e18ae0/4ee7f/fdGoYzgOn3nnr02pVeGK4A.png\"\n        srcset=\"/static/7dd1a863380e9f79e7af4da955e18ae0/c26ae/fdGoYzgOn3nnr02pVeGK4A.png 158w,\n/static/7dd1a863380e9f79e7af4da955e18ae0/6bdcf/fdGoYzgOn3nnr02pVeGK4A.png 315w,\n/static/7dd1a863380e9f79e7af4da955e18ae0/4ee7f/fdGoYzgOn3nnr02pVeGK4A.png 486w\"\n        sizes=\"(max-width: 486px) 100vw, 486px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>上下键选择初始化模板，选择 <code class=\"language-text\">react-ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">## 等待命令创建模板文件</span>\n\n<span class=\"token comment\">## 创建好后进入项目文件夹，并安装依赖</span>\n<span class=\"token builtin class-name\">cd</span> test-r <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">yarn</span>\n\n<span class=\"token comment\">## 等待依赖安装好后就可以启动项目</span>\n<span class=\"token function\">yarn</span> dev</code></pre></div>\n<h2>配置别名</h2>\n<h3>修改 tsconfig.json</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"paths\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"@/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./src/*\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>修改 vite.config.ts</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">\"path\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> defineConfig <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    alias<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">\"@\"</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"src\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>引入 Antd</h2>\n<h3>必要依赖</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">## 安装依赖</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> antd\n\n<span class=\"token comment\">## 安装 less</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> <span class=\"token function\">less</span> <span class=\"token parameter variable\">--dev</span></code></pre></div>\n<h3>按需加载</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">## 安装插件</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> vite-plugin-style-import <span class=\"token parameter variable\">--dev</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 项目根目录 vite.config.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> defineConfig <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vite\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  css<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    preprocessorOptions<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      less<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        javascriptEnabled<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 自定义 Antd 主题色</span>\n        modifyVars<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string-property property\">\"@primary-color\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#0065FE\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">styleImport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      libs<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// 此处需要注意，项目文件或路径中请勿包含 antd 字符串，该插件可能解析路径出现错乱</span>\n          libraryName<span class=\"token operator\">:</span> <span class=\"token string\">\"antd\"</span><span class=\"token punctuation\">,</span>\n          esModule<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          <span class=\"token function-variable function\">resolveStyle</span><span class=\"token operator\">:</span> name <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">antd/es/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/style/index</span><span class=\"token template-punctuation string\">`</span></span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>引入 Echarts</h2>\n<h3>安装 Echarts</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> echarts-for-react <span class=\"token parameter variable\">--save</span></code></pre></div>\n<h3>业务中使用</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> ReactECharts <span class=\"token keyword\">from</span> <span class=\"token string\">\"echarts-for-react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"echarts/lib/chart/bar\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"echarts/lib/component/tooltip\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"echarts/lib/component/title\"</span>\n\n<span class=\"token keyword\">const</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    text<span class=\"token operator\">:</span> <span class=\"token string\">\"示例\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// tooltip: {},</span>\n  xAxis<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token string\">\"category\"</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Mon\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Tue\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Wed\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Thu\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Fri\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Sat\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Sun\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  yAxis<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token string\">\"value\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  series<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"销量\"</span><span class=\"token punctuation\">,</span>\n      data<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token number\">230</span><span class=\"token punctuation\">,</span> <span class=\"token number\">224</span><span class=\"token punctuation\">,</span> <span class=\"token number\">218</span><span class=\"token punctuation\">,</span> <span class=\"token number\">135</span><span class=\"token punctuation\">,</span> <span class=\"token number\">147</span><span class=\"token punctuation\">,</span> <span class=\"token number\">260</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      type<span class=\"token operator\">:</span> <span class=\"token string\">\"line\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Page1</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>page1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ReactECharts</span></span>\n        <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#fff\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">\"800px\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">option</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>option<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">notMerge</span>\n        <span class=\"token attr-name\">lazyUpdate</span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"使用 Vite 创建 React+TypeScript+Antd+Echarts 开发环境","date":"2021-11-03","description":null,"author":"骷髅王"}},"previous":{"fields":{"slug":"/frontEnd/其他/开发、测试环境地址/"},"frontmatter":{"title":"Web 端开发、测试环境地址"}},"next":{"fields":{"slug":"/frontEnd/nodejs/Node.js-knowledge-points-you-should-know/"},"frontmatter":{"title":"你应该知道的 Node.js 知识点"}}},"pageContext":{"id":"4b612652-12ac-5d88-994a-b772149d583d","previousPostId":"10768e4d-5082-5cbf-bfcd-264019343667","nextPostId":"e7bb832a-870a-559f-8010-e171f5fe5545"}},"staticQueryHashes":["2841359383","3257411868"]}