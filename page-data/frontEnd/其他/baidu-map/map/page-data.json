{"componentChunkName":"component---src-templates-blog-post-js","path":"/frontEnd/其他/baidu-map/map/","result":{"data":{"site":{"siteMetadata":{"title":"HJGP技术知识库"}},"markdownRemark":{"id":"76dfe404-f2f8-5abb-992c-c5bfe33b9a97","excerpt":"地图 GIS maps 百度地图、高德地图、谷歌地图、mapbox、OpenStreetMap\n包含地理数据，坐标系统，瓦片贴图(自定义样式)，国家边界领土（国际争议）等。 百度、高德地图不解释 谷歌地图被墙 mapbox 收费较贵，但周边生态最完善，有免费试用次数，够日常演示试用，试用了 OSM…","html":"<h1>地图 GIS</h1>\n<h2>maps</h2>\n<p>百度地图、高德地图、谷歌地图、mapbox、OpenStreetMap\n包含地理数据，坐标系统，瓦片贴图(自定义样式)，国家边界领土（国际争议）等。</p>\n<ul>\n<li>百度、高德地图不解释</li>\n<li>谷歌地图被墙</li>\n<li>mapbox 收费较贵，但周边生态最完善，有免费试用次数，够日常演示试用，试用了 OSM 的地理数据源，提供了 china 专用地理数据。</li>\n<li>OSM 为开源的地图，提供了最完善的地理数据，但国家边界争议领土方面不好配置。</li>\n</ul>\n<p>其中 baidumap 提供了 baidu map stuido 但过于基础。\nmapbox 提供了 mapbox studio 可以个性化定制地图样式。\n比如：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e13d8ecc055669c74ade5b3097761bbe/d00b9/640.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.55696202531645%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRlwAAABXRUJQVlA4IFAAAADQAwCdASoUAA0APtFUo0uoJKMhsAgBABoJQBOgA2aCSfbj1QB7JAAA/pCA0V04WXq0ZCxhNV8dZO9Jd6oCs39zHnU94r8KbAgqYRLnw1IAAA=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"640\"\n        title=\"640\"\n        src=\"/static/e13d8ecc055669c74ade5b3097761bbe/8aab1/640.webp\"\n        srcset=\"/static/e13d8ecc055669c74ade5b3097761bbe/81b7c/640.webp 158w,\n/static/e13d8ecc055669c74ade5b3097761bbe/6ea66/640.webp 315w,\n/static/e13d8ecc055669c74ade5b3097761bbe/8aab1/640.webp 630w,\n/static/e13d8ecc055669c74ade5b3097761bbe/d00b9/640.webp 800w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/14d52866808cccfedf07b4bdf9d87cd8/d00b9/641.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRnAAAABXRUJQVlA4IGQAAADQAwCdASoUAAoAPtFUo0uoJKMhsAgBABoJQBOmUABQSzYrWioNIAAA/FsYfeeA+WmZ+IOIghNWxx5Tz8RszOJJ5bu1YHSZIv9mDQfTRijVTE/h6VS91sOlyTHDcE6QZ3imgswA'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"641\"\n        title=\"641\"\n        src=\"/static/14d52866808cccfedf07b4bdf9d87cd8/8aab1/641.webp\"\n        srcset=\"/static/14d52866808cccfedf07b4bdf9d87cd8/81b7c/641.webp 158w,\n/static/14d52866808cccfedf07b4bdf9d87cd8/6ea66/641.webp 315w,\n/static/14d52866808cccfedf07b4bdf9d87cd8/8aab1/641.webp 630w,\n/static/14d52866808cccfedf07b4bdf9d87cd8/d00b9/641.webp 800w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>Leaflet、openLayers、mapbox-gl</h2>\n<p>可以通过这些 js 库引入不同的 map style （例如百度地图、高德地图、谷歌地图、mapbox、OpenStreetMap 等）</p>\n<ul>\n<li>其中 baidu map 的 gl 套装是：</li>\n</ul>\n<p>MapVGL : <a href=\"https://lbsyun.baidu.com/solutions/mapvdata\">https://lbsyun.baidu.com/solutions/mapvdata</a></p>\n<p>JavaScript API GL: <a href=\"https://lbsyun.baidu.com/index.php?title=jspopularGL\">https://lbsyun.baidu.com/index.php?title=jspopularGL</a></p>\n<ul>\n<li>星图的方案为：\nbaidu map + baidu map gl</li>\n</ul>\n<p><em>使用到的技术点：</em></p>\n<ol>\n<li>路书，路线动效 (<a href=\"https://github.com/baidumap/LuShu\">https://github.com/baidumap/LuShu</a>)</li>\n<li>infoBox，自定义起泡框（<a href=\"https://github.com/baidumap/infoBox%EF%BC%89\">https://github.com/baidumap/infoBox）</a></li>\n<li>mapvgl: 各种 layer</li>\n<li>jsAPI: 文本标注、Icon、line、地图事件（click、hover）</li>\n</ol>\n<p><em>优点：</em></p>\n<ol>\n<li>无国家领土争议</li>\n<li>飞线动效可满足业务需求</li>\n</ol>\n<p><em>缺点:</em></p>\n<ol>\n<li>提供的 API 太基础，定制困难，源码老旧，没有积极维护</li>\n<li>地图样式不好看</li>\n</ol>\n<p><em>未完成的调研方案：deck.gl + mapbox</em></p>\n<p>其中，mapbox 的调研工作已经完成，deck.gl 的 3D 弧线效果较好，但无法满足业务端飞线的要求。建议后续调研方案为：deck.gl + mapbox 或者鲸准网的方案</p>\n<ul>\n<li>鲸准网的方案为:\nLeaflet + mapbox + Turf.js</li>\n</ul>\n<p>Turf: 地理空间分析库，处理各种地图算法</p>\n<h2>deck.gl uber 的地图可视化方案</h2>\n<p><a href=\"https://deck.gl/\">https://deck.gl/</a></p>\n<h2>其他参考文档</h2>\n<ol>\n<li>示例文档 <a href=\"https://www.mapbox.cn/mapbox-gl-js/examples/\">https://www.mapbox.cn/mapbox-gl-js/examples/</a></li>\n<li>路径添加动画效果文档：<a href=\"https://www.mapbox.cn/mapbox-gl-js/example/animate-point-along-route/\">https://www.mapbox.cn/mapbox-gl-js/example/animate-point-along-route/</a></li>\n<li>Mapbox 官方文档：<a href=\"https://docs.mapbox.com/mapbox-gl-js/api/\">https://docs.mapbox.com/mapbox-gl-js/api/</a></li>\n<li>turf.js 中文文档： <a href=\"https://turfjs.fenxianglu.cn/\">https://turfjs.fenxianglu.cn/</a></li>\n<li>bing map 用于快速拾点：<a href=\"https://cn.bing.com/maps\">https://cn.bing.com/maps</a></li>\n</ol>\n<h2>百度地图示例代码</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var map = new BMapGL.Map('container'); // 创建Map实例\nmap.centerAndZoom(new BMapGL.Point(116.404, 39.915), 12); // 初始化地图,设置中心点坐标和地图级别\nmap.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放</code></pre></div>\n<h2>mapbox 示例代码</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var map = new mapboxgl.Map({\n  container: 'map',\n  center: [-122.420679, 37.772537],\n  zoom: 13,\n  style: style_object,\n});</code></pre></div>\n<h2>Leaflet 示例代码</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  // 使用mapbox 作为底图\n  L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\n      attribution: 'Map data &amp;copy; &lt;a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap&lt;/a> contributors, Imagery © &lt;a href=\"https://www.mapbox.com/\">Mapbox&lt;/a>',\n      maxZoom: 18,\n      id: 'mapbox/streets-v11',\n      tileSize: 512,\n      zoomOffset: -1,\n      accessToken: 'your.mapbox.access.token'\n  }).addTo(mymap);</code></pre></div>\n<h2>deck.gl 示例代码</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  new deck.DeckGL({\n    container: 'container',\n    mapboxApiAccessToken: config.MAPBOX_ACCESS_TOKEN,\n    // mapbox\n    mapStyle: 'mapbox://styles/hjfruit/ckrq3979s4nmh18tdhyzhkkgw',\n    initialViewState: {\n      longitude: 114.187,\n      latitude: 22.33616,\n      zoom: 4,\n      bearing: 0,\n      pitch: 30,\n    },\n    controller: true,\n    layers: layers,\n  })</code></pre></div>","frontmatter":{"title":"百度地图 GIS 测试文章","date":"2021-11-02","description":null,"author":"zkzhao"}},"previous":{"fields":{"slug":"/frontEnd/react/react-hooks/reacthooks/"},"frontmatter":{"title":"hooks学习笔记"}},"next":{"fields":{"slug":"/frontEnd/其他/cicd-cli/cli/"},"frontmatter":{"title":"github自动部署"}}},"pageContext":{"id":"76dfe404-f2f8-5abb-992c-c5bfe33b9a97","previousPostId":"eb0ce11a-f6d0-5572-b8f7-aef4a8da97e4","nextPostId":"1349b686-f399-5195-9500-4eb6f34a0898"}},"staticQueryHashes":["2841359383","3257411868"]}