{"componentChunkName":"component---src-templates-blog-post-js","path":"/frontEnd/其他/react-native-xiaoshu-0.1.0-changed-notice/","result":{"data":{"site":{"siteMetadata":{"title":"HJGP技术知识库"}},"markdownRemark":{"id":"b89b91c4-f781-555d-949e-2cb4f7d16375","excerpt":"Design Tokens 简介，由设计师提供一套变量集，研发人员参照设计稿上的变量一一对应使用，并不需要关心变量具体映射的值。 类似 Echarts 主题编辑器 - Apache ECharts…","html":"<h2>Design Tokens</h2>\n<blockquote>\n<p>简介，由设计师提供一套变量集，研发人员参照设计稿上的变量一一对应使用，并不需要关心变量具体映射的值。</p>\n<p>类似 Echarts <a href=\"https://echarts.apache.org/zh/theme-builder.html\">主题编辑器 - Apache ECharts</a> 。</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>以前的设计稿</th>\n<th>现在的设计稿</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d985d99eb926743b054734ceca568471/93582/design_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.70886075949367%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAADlElEQVQ4y3WT204bVxSG/R4lBHy2x2MbY2xOgQjS4gi1TRRoCWortVJvk4u2t73qTd+gL0CjJoXQ0CiKyimEtFWDmoQ0SAUVBBh8BHwajz0z9lfNNoGkhy392tpbM5/W+v+1Lc7YHK7Le7je3cA7msUzksIzkv63riRwDD/FFlvB0f8NcqifQCRGWzSG3H4Bh9SDHL6AxfP2Cv4PwPu+ijQO0tX/0Dh4xww8owU8Y+B88zYeOYxD6qTZFsTj78EhRWi2B7H4Lz0i+BE4R3Wkqzo+U+P/0MmdhvwheC7exe0LYXN3cMYWwBvsxe4Jc8bqx+K//CtjX8KlL6rI41UcIzr2/9OVCvb3wDY4Q7C9W4DeaJWRgudw+aIN4OAnj/n0a/j4K3jnc4Oh6zpD1w2GrhmN/RW9da3Kxc+ga3QGl7cNmyciIM22wIksk9OzrDzdYuHhM+KJAsUy5Is18grkS3WhgimlzlHBoA58e+seTfYO4aHVHcHmjojd6u7AsvhgCaWUJ5GIo1VVTpah8/qqU6817qZn7mOTB3DJvVjdnceKYvd2YXn0y28YtTq5fBG9UiWTSJLeT7C/scn+9i6JnTjlQkmANK0BvDU1gxTopn9wmO6+IXr6YwwNjyAFu7AsLf/MwcEhm1vbKPkCay/W+HN9nYPDQ0olhfxRDq1cFiBdPwXa3W109g4QDPcQjvbRNxBDCkTMlpfJHhyys7uHWiyx+myVP16skUql0I4B6LrwTtcNcZyavovL14nDG6apVaLZKtPiCHDWHsAyO/eAVCrN9k4cpVAUFebyeXK5HJVKBep16prWsNVoAG9O3hEJh6IDOLwRmqx+kfZZc7DnFpZIpTOkkim0fIEnvz8hXyicRlGrUT/2zgQq5TITEzdxy13IoXO0ONrEM3TLnY2xmV9YIplKk81kMYolVh6vsL6xQa1WO4W+AhQpT/6A1RXG6moXlfnD5/H4uxuDPb/4kEQiyfZuHFVR2Nrc4q/NLbLZrGi7aFZ77OFL4L0b3yH7ouL9mhCzQrNSAZybXyKRTJHOZNHKKjvbO6iqiqIoHOVylIpF6iehNCqdmrlPsz1EiyMo2vQGekUgAvjT7CLZ7IFI1AQ+X31OJpM5+fn1lhs23Pn+Nq3OdlqdIRGEGYzZvq3xUpbFOJgfV1WV5G6cZHxPzGStqqGrFYyqJjx9OUY/TtygqcVHsOM8Tm8EpxQRIZmh/A1/Tb3Ymlfx/gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"design 1\"\n        title=\"design 1\"\n        src=\"/static/d985d99eb926743b054734ceca568471/f058b/design_1.png\"\n        srcset=\"/static/d985d99eb926743b054734ceca568471/c26ae/design_1.png 158w,\n/static/d985d99eb926743b054734ceca568471/6bdcf/design_1.png 315w,\n/static/d985d99eb926743b054734ceca568471/f058b/design_1.png 630w,\n/static/d985d99eb926743b054734ceca568471/40601/design_1.png 945w,\n/static/d985d99eb926743b054734ceca568471/78612/design_1.png 1260w,\n/static/d985d99eb926743b054734ceca568471/93582/design_1.png 1524w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></td>\n<td><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/78ba995aaa1b0869eebed8b689b9dce4/75609/design_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC7klEQVQoz02QbWvbVhTH9SnKUid+kGzJki3b8VP8hJPRUEopTtukTzCyrN2rfonC2Chdn9hnGHuxbzL2MltY7cYPcWLLshVZV7pXV/fqWi5OKOzw4/A/Bw78/4fTDaAb9vHJ50+dwfG/bU2f98+0yQwASOe2Z0Gyd/DDOp/lk8WYVIyKBTFdE5LlmFiISUXuzdsPr9++e/XTz7++//jL6zfvP/72+x9/Hp90XLI0AQaQtvaP4nJZzTeiic2wkE0olWxxJ6GUwkKWOx8bf//1z/ng8uLcvBha4xG4tLFpYwsSCxKA6L0Hh7yY32rcjgiZjVg6LOSyxaasVkIRhQOWb7YXsxN62aXTE9/oMGgzYBLL9CyDAJu2Do4ktVGo3RHkMi8VeKkYiW9GE/mVbRv4jATLq/KIhwCANryaAoYD5LD7j49uhuX1mBKKKKGovB5LrXRU2eBTHJxjz4TIAtiBlqZbn07N0Qg70LUBBi6C7OHTF0puR81vJzN1Sa3zyZKk1qR0Vc42OTKznOG41+11O6f9016/1x8Ozjr/dQbdvqOZGAWt/UNBym/Vd+vbd4qVnRuheKbQyJWa32yInO0whtkCe76LKUQUuhS6AXYX2PURQ46//+xHOfdtdXsvVbzFy1txpRKXK6uuVDgwJwFdIoyQ666CXsUfGUtElwENEGR7B98n1Uq5vquKaSEirUWSN7/CzecEWWxuoPkMYYch4GPHH4+ZecmQ5dvAb+0fhoWcpNYSUkGUy8L/4GxEMWbEWxBv4XmMkoB4C0qY5/kYM4hI69nLaO5updnKV+8KSk1M1cV04xoOuv6V25VdwzDa7bamadebIFgSwp4+eR6T67nSrfTmjpJpxOUtXipdwyHMEEKjsaZNJmfDi25vMDy/GGuapk2Q6xJ/+ejhdwkxky01k+lyubYrSJtrG1IoIociMoewTyid6NPV9UTXpzN9ZozGmj6dAtuGLrn/6PlaNCema3GlyidXT06kqtd8AQty8w8slJuMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"design 2\"\n        title=\"design 2\"\n        src=\"/static/78ba995aaa1b0869eebed8b689b9dce4/f058b/design_2.png\"\n        srcset=\"/static/78ba995aaa1b0869eebed8b689b9dce4/c26ae/design_2.png 158w,\n/static/78ba995aaa1b0869eebed8b689b9dce4/6bdcf/design_2.png 315w,\n/static/78ba995aaa1b0869eebed8b689b9dce4/f058b/design_2.png 630w,\n/static/78ba995aaa1b0869eebed8b689b9dce4/40601/design_2.png 945w,\n/static/78ba995aaa1b0869eebed8b689b9dce4/75609/design_2.png 994w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></td>\n</tr>\n</tbody>\n</table>\n<p>从设计稿上可以看出许多关键数据已经有对应的变量名称了，例如 <code class=\"language-text\">gray-7</code>、<code class=\"language-text\">size-5</code>，以后再也不用去全局变量搜索是不是通用变量了。</p>\n<h3>生成 code</h3>\n<p>设计师通过 <a href=\"https://github.com/design-meets-development/design-tokens-plugin\">design-tokens-plugin</a> 插件导出 json 数据，例如：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"utils\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"space-1\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"spacer\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"utils\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"space-2\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"spacer\"</span><span class=\"token operator\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"utils\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"space-3\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"spacer\"</span><span class=\"token operator\">:</span> <span class=\"token number\">12.00000000000006</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"utils\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"space-4\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"spacer\"</span><span class=\"token operator\">:</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"utils\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>读取数据，选择想要的部分生产代码，具体实现看 <code class=\"language-text\">scripts/design-tokens/stringify/[color|typography|utils].ts</code>，生成后的变量代码看 <code class=\"language-text\">src/theme/tokens.ts</code>。</p>\n<p>生成的基础变量命名规范 <code class=\"language-text\">xxx_xxx_梯度/大小</code>。</p>\n<h3>如何使用</h3>\n<p>结合上面新设计稿。</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> <span class=\"token constant\">TOKENS</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./tokens\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> dialog_message_text_color <span class=\"token operator\">=</span> <span class=\"token constant\">TOKENS</span><span class=\"token punctuation\">.</span>gray_7\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> dialog_message_text_font_size <span class=\"token operator\">=</span> <span class=\"token constant\">TOKENS</span><span class=\"token punctuation\">.</span>font_size_5</code></pre></div>\n<p><code class=\"language-text\">TOKENS</code> 是一套基础变量集合，设计稿用到的大部分数据都会来自这一套，也可能会有特殊数据单独使用。</p>\n<p>「组件库」需要自己维护一套变量，变量值继承与基础变量，变量命名基础规则 <code class=\"language-text\">组件名称_表现_模块_属性名</code>，例如 <code class=\"language-text\">button_l_height</code>。</p>\n<p>「业务开发」可以直接使用基础变量，业务端生成的变量名应该会采用 <code class=\"language-text\">$xxx_xxx</code> 这样的规范。</p>\n<h3>不足之处</h3>\n<ul>\n<li>\n<p>目前设计师只提供了基础变量，按理说组件、业务变量也应该提供，现在只有靠自觉由研发人员维护好。</p>\n</li>\n<li>\n<p>旧设计稿部分值没有收集到变量中。</p>\n</li>\n<li>\n<p>变更基础变量可能有点麻烦，例如在 xxx_80 和 xxx_90 中插入一个新值，要替换一些变量。</p>\n</li>\n</ul>\n<h2>重要变更</h2>\n<h3>size</h3>\n<p>以前组件尺寸是 <code class=\"language-text\">'default' | 'large' | 'normal' | 'small' | 'mini'</code> 大概这几个，现在已按照 Design Tokens 的尺寸约定，更改为 <code class=\"language-text\">'xl' | 'l' | 'm' | 's' | 'xs'</code>。</p>\n<h3>type</h3>\n<p>以前 type 可以变更组件外观、颜色，现在 type 主要是外观的变化。</p>\n<p>例如按钮，<code class=\"language-text\">'primary' | 'hazy' | 'outline' | 'ghost' | 'link'</code></p>\n<ul>\n<li>\n<p>primary 填充</p>\n</li>\n<li>\n<p>hazy 朦胧，文案主要色，背景主要色高亮</p>\n</li>\n<li>\n<p>outline 外边框，文案主要色，边框灰色</p>\n</li>\n<li>\n<p>ghost 幽灵，文案、边框主要色</p>\n</li>\n<li>\n<p>link 链接，仅有主要色的文案</p>\n</li>\n</ul>\n<h2>讨论区</h2>\n<h3>功能相似组件</h3>\n<p>Flex、Space、栅格化组件目前都能实现快速 Flex 布局，Space 相对 Flex 多了上下或左右间距，Flex 似乎没有太大意义，很多场景元素之间都会有间距。</p>\n<h3>必要的间距</h3>\n<p>如同上面说的「很多场景元素之间都会有间距」，组件内部是否优先考虑使用 Space 实现。</p>","frontmatter":{"title":"react-native-xiaoshu 0.1.0 更改通知","date":"2022-02-08","description":null,"author":"onlyling"}},"previous":{"fields":{"slug":"/frontEnd/其他/css/"},"frontmatter":{"title":"css学习笔记"}},"next":{"fields":{"slug":"/frontEnd/onboarding-guide/"},"frontmatter":{"title":"入职指南"}}},"pageContext":{"id":"b89b91c4-f781-555d-949e-2cb4f7d16375","previousPostId":"fae32203-42a7-598a-9559-c512816a233b","nextPostId":"f199d802-2f36-5208-9495-3f37d8941a8b"}},"staticQueryHashes":["2841359383","3257411868"]}