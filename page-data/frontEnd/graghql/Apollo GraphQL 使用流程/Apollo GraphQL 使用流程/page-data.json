{"componentChunkName":"component---src-templates-blog-post-js","path":"/frontEnd/graghql/Apollo GraphQL 使用流程/Apollo GraphQL 使用流程/","result":{"data":{"site":{"siteMetadata":{"title":"HJGP技术知识库"}},"markdownRemark":{"id":"bb612230-043b-5743-8e1c-9ccaa6a6858a","excerpt":"一、创建 GraphQL 接口文件 新建 some-demo.gql 文件，通过从 playground（使用方法详见https://docs.qq.com/doc/DVXRPSkduWGJnbWVT）查询到的接口，写入该文件。 该文件代码几乎可以直接复制 Postman…","html":"<h2>一、创建 GraphQL 接口文件</h2>\n<p>新建 some-demo.gql 文件，通过从 playground（使用方法详见<a href=\"https://docs.qq.com/doc/DVXRPSkduWGJnbWVT%EF%BC%89%E6%9F%A5%E8%AF%A2%E5%88%B0%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%86%99%E5%85%A5%E8%AF%A5%E6%96%87%E4%BB%B6%E3%80%82\">https://docs.qq.com/doc/DVXRPSkduWGJnbWVT）查询到的接口，写入该文件。</a></p>\n<p>该文件代码几乎可以直接复制 Postman 解析出来的代码。</p>\n<p>如：</p>\n<p>​ <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7230e4b0a33a06f4138dbae9a5d1529d/bcb8c/cjDksKM6BvQTjbrppdFSnQ-16359270276472.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVQoz5XQ246bMBAGYJ4jMDPYkASMbcb4AIEcyHar9rLv/zQVaVpl1Ytuf30aS5ZGM3b2drvc1+t6uwyWx5CmaVqWJaXkfLxcb+uW+7quy/kcY4ohbjUlx87aPmO2zNZY0ylljlorrVSrVFvv90KIsqSypO1ALHZ5kRebAgokJMpG3d3G/n3ha7Bn2y1WJdNHw1HboG3ojFe6Vw3rdtM13LXc7B3hASHjrvfXdxcnw4O21rIzLmkOmr1m31nWHBQPbe+2armzvaykQuwQsqbem+XLQfe7/Hd2uzx/Kp41f5UD1IgtQnYsSzOvfFrLqgYApO0xiC8+3GwpEPeICiE7INjlLX37oVxEAPxEXpoJu/Hirl+rQwP/23wkVGH29+8thyLPHxt+unlP1MbZnFaSEh6j/ylHfH6YFkIgiQLKvBAAHxUS4G8lQPtr8txUs64vtr6YeqrKJClJEaQMUsZKBiGCEIPAQdAgaRDkK+EFBYQDYhat82k5z+MyT3MK85jGdErTNaYlpsX7MaSzC9HF5NLYe6/Usakrg7BNnqTgknp6QGQiJnSE/OCe6A+GokeIhC3hT4WPfvPm7w9iAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img\"\n        title=\"img\"\n        src=\"/static/7230e4b0a33a06f4138dbae9a5d1529d/f058b/cjDksKM6BvQTjbrppdFSnQ-16359270276472.png\"\n        srcset=\"/static/7230e4b0a33a06f4138dbae9a5d1529d/c26ae/cjDksKM6BvQTjbrppdFSnQ-16359270276472.png 158w,\n/static/7230e4b0a33a06f4138dbae9a5d1529d/6bdcf/cjDksKM6BvQTjbrppdFSnQ-16359270276472.png 315w,\n/static/7230e4b0a33a06f4138dbae9a5d1529d/f058b/cjDksKM6BvQTjbrppdFSnQ-16359270276472.png 630w,\n/static/7230e4b0a33a06f4138dbae9a5d1529d/bcb8c/cjDksKM6BvQTjbrppdFSnQ-16359270276472.png 879w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>注意：</p>\n<p>在更新 some-demo.gql 文件的时候，编辑器可能会提示你新增加的字段不存在，是因为 vscode 编辑器初次打开的时候会加载并缓存 graphql.schema 文件，如果文件/接口更新需要手动更新。</p>\n<p>「Ctrl + Shift + P 」调用 vscode 命令行，输入「reload」，选择「Apollo: Reload schema」重新载入新的文档</p>\n<p>​ <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4d93d0464e730a6bcda06c86c5376e99/6db71/TZPQRk5zCmvNoGyGxTdumQ.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.354430379746837%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVQI113C0U6DMBQAUP7CxJc9iIVmGki33lsQ2ttSNko6M6YbLkuM8cX5Cf697zs5iQCUqlojSlQrgEZr4/vadbTZku9d54mMc8573zlbV0oBggQpASQkrbK6f2tNbGhHFMuXYNEesQ3K6npTNDE1U6r3qd4/monRgdFhNZ5hnMthToaqO56ul4/rfPq5vH+H1y9D01rYBxkWMN5jvMPdTRE/8fzH42+CqKawncJASsriuVFQiJLxnPOM82zJs6ec3cxYmi+FEPAP4ik4GpDiaIUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img\"\n        title=\"img\"\n        src=\"/static/4d93d0464e730a6bcda06c86c5376e99/f058b/TZPQRk5zCmvNoGyGxTdumQ.png\"\n        srcset=\"/static/4d93d0464e730a6bcda06c86c5376e99/c26ae/TZPQRk5zCmvNoGyGxTdumQ.png 158w,\n/static/4d93d0464e730a6bcda06c86c5376e99/6bdcf/TZPQRk5zCmvNoGyGxTdumQ.png 315w,\n/static/4d93d0464e730a6bcda06c86c5376e99/f058b/TZPQRk5zCmvNoGyGxTdumQ.png 630w,\n/static/4d93d0464e730a6bcda06c86c5376e99/6db71/TZPQRk5zCmvNoGyGxTdumQ.png 659w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>二、生成可使用代码</h2>\n<p>执行 <code class=\"language-text\">yarn generate</code> 命令，生成对应的 GraphQL（some-demo.ts）文件（目标位置在同级 <em>generated</em> 文件夹下）。</p>\n<p>该文件包含</p>\n<ol>\n<li>参数、返回数据类型声明，例如 SomeMutationVariables/SomeQueryVariables、SomeMutation/SomeQuery</li>\n<li>和 GraphQL 客户端 client 配合使用的查询函数，例如 SomeDocument</li>\n<li>React Hooks 相关函数，例如 useSomeQuery/useSomeLazyQuery/useSomeMutation</li>\n</ol>\n<h2>三、在业务中调用/使用接口</h2>\n<p>引入相关文件</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// 统一封装的分页 hooks，内部已经实现接口请求、重置、刷新等</span>\n<span class=\"token comment\">// 更推荐使用 useTablePaging（生产管理平台项目pitaya-web中可见）</span>\n<span class=\"token keyword\">import</span> useAsyncTable <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/hooks/useAsyncTable\"</span>\n\n<span class=\"token comment\">// 导入查询语句对应的函数</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> PageQueryStorageConditionsDocument <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/graphql/operations/base-data/__generated__/storage-management\"</span>\n\n<span class=\"token comment\">// 查询接口返回的数据的类型声明，通过声明可以找到接口返回的数据格式</span>\n<span class=\"token comment\">// 单独使用 import type 的方式导入类型变量，而不和数据变量混合导入</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">{</span> PageQueryStorageConditionsQuery <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/graphql/operations/base-data/__generated__/storage-management\"</span></code></pre></div>\n<p>​ <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cb5092b822da8dacef06c08f9aa02c42/9b379/y1CSuCLajazvBsCPmqAsQg.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.962025316455696%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPUlEQVQI1x3EUQoAIQgFwL1J+1G6gvoQSjao+18rCIZ5wHAN+7fnQp/oiTFN4SwhhK/5pVRxN24hHEJvKQdNwApdoo0RgQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img\"\n        title=\"img\"\n        src=\"/static/cb5092b822da8dacef06c08f9aa02c42/f058b/y1CSuCLajazvBsCPmqAsQg.png\"\n        srcset=\"/static/cb5092b822da8dacef06c08f9aa02c42/c26ae/y1CSuCLajazvBsCPmqAsQg.png 158w,\n/static/cb5092b822da8dacef06c08f9aa02c42/6bdcf/y1CSuCLajazvBsCPmqAsQg.png 315w,\n/static/cb5092b822da8dacef06c08f9aa02c42/f058b/y1CSuCLajazvBsCPmqAsQg.png 630w,\n/static/cb5092b822da8dacef06c08f9aa02c42/40601/y1CSuCLajazvBsCPmqAsQg.png 945w,\n/static/cb5092b822da8dacef06c08f9aa02c42/9b379/y1CSuCLajazvBsCPmqAsQg.png 951w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>创建列表查询实例</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const { tableProps, form, submit, reset, refresh } = useAsyncTable({\n    // GQL 查询语句函数\n    gql: PageQueryStorageConditionsDocument,\n    // GQL 查询语句中接口名称\n    gqlKey: 'pageQueryStorageConditions',\n    // 接口接收参数的字段名\n    gqlParamKey: 'pageQueryStorageConditionInput',\n    // 分页接口通常把分页参数放到 page 对象字段，接口接收两个字段，部分接口可能只有一个参数字段，需要把 page 对象合并到该对象下\n    isSingleParams: true, // 根据查询传入的参数个数确定该属性是否为true，默认为false\n  })</code></pre></div>\n<p>各参数来源图示</p>\n<p>​ <img src=\"/680adede6369fb796cb0b1081eba6369/aAre3mNp-3lssLEIHrpjaQ.pngw=1280&#x26;h=488.65323435843055\" alt=\"img\"></p>\n<p>在 operation-admin-web（运营管理平台）项目中，封装的分页列表查询组件，查询方式有两种：</p>\n<p>查询参数为一个的时候：</p>\n<p>​ <img src=\"/071d7abee9e8771a5c010a69a2ae668f/Bx16vunodxpcAQppoq5mjw.pngw=1280&#x26;h=220.7390817469205\" alt=\"img\"></p>\n<p>查询参数为两个的时候：</p>\n<p>​ <img src=\"/30c9c8b5a768ed58e955a67c43054556/MMnItado7VjpVaZ8QwVFVg.pngw=1280&#x26;h=226.56144306651635\" alt=\"img\"></p>\n<h2>其他/可以不看</h2>\n<p>​ <img src=\"/adfe9f4b0bbb3c5ea4d633b7d1c81ce7/rf6fSwu7PF6k1jO30cgc5w.pngw=1280&#x26;h=522.6847151720248\" alt=\"img\"></p>\n<p>XxxxXxxxQuery 是某个接口/查询返回的数据格式，例如</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">query getCurrentUser {\n  getCurrentUser {\n    userId\n    userName\n    phone\n    roleNames\n    avatar\n    organizationName\n  }\n}</code></pre></div>\n<p>查询用户个人信息，其中第一个 getCurrentUser 是查询别名，自定义的，内部的 getCurrentUser 指定接口名称。这样一个查询，服务器端会返回</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{ \"data\": { \"getCurrentUser\": { \"userId\": 0 } } }</code></pre></div>\n<p>GetCurrentUserQuery 就会是</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">type GetCurrentUserQuery = {\n  getCurrentUser: {\n  userId: number\n  }\n}</code></pre></div>\n<p>在写分页业务的时候，需要得知具体列表中某个数据的类型，可以通过</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">ColumnTypeItem</span> <span class=\"token operator\">=</span> PagingXxxXxxQuery<span class=\"token punctuation\">[</span><span class=\"token string\">\"pageingXxxXxx\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"records\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>获取到。</p>\n<p>useAsyncTable 内部通过 ApolloClient 查询的方式调用接口，所以需要一个 GQL 的查询语句函数。</p>\n<p>Apollo GraphQL 文档：<a href=\"https://www.apollographql.com/docs/react/get-started/\">https://www.apollographql.com/docs/react/get-started/</a></p>\n<h2><strong>分页案例具体参考</strong></h2>\n<p>背景：</p>\n<p>GraphQL 首先在 pitaya-app 项目中试水，分页接口约定时将接口参数分为两个字段，page 用于承载当前第几页、每页多少个，另一个字段承载其他额外的参数，该字段对应可能是字符串、数字、数组、对象。</p>\n<p><strong>在设计分页相关组件、使用方式的时候，考虑到业务代码需要传入三个字段，必须的 gql 查询函数（**<strong>SomeDocument*</strong>*），必须的 gqlKey 字符串（接口返回数据时承载数据的字段），可选的额外参数字段名（除 page 的那个）。</strong></p>\n<p>web 端在接口定义的时候比较随意，需要做额外兼容，新增加一些配置。</p>\n<h3><strong>一般情况（两个参数）</strong></h3>\n<p>这种情况最简单，不需要做特殊的数据转换</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> tableProps<span class=\"token punctuation\">,</span> form<span class=\"token punctuation\">,</span> submit<span class=\"token punctuation\">,</span> reset <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useTablePagingGQL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 指定 GraphQL 查询函数</span>\n  gql<span class=\"token operator\">:</span> PageSaleDocument<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 设置接口返回的数据承载字段</span>\n  gqlKey<span class=\"token operator\">:</span> <span class=\"token string\">\"pageSale\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 设置额外参数的字段，非必填</span>\n  gqlParamKey<span class=\"token operator\">:</span> <span class=\"token string\">\"condition\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 搜索表单特殊空间输入格式化</span>\n  <span class=\"token comment\">// URL 上拿到的都是字符串，部分选项的值是数字（数组）、数组、Dayjs</span>\n  paramsValueTypeMap<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    time<span class=\"token operator\">:</span> <span class=\"token string\">\"dayjsDayRange\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 部分字段在表单中又单个字段管理，在接口中是两个字段</span>\n  <span class=\"token comment\">// 自定义给接口的数据</span>\n  <span class=\"token function-variable function\">formatParams</span><span class=\"token operator\">:</span> v <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// v 是完整的接口需要的数据格式</span>\n    <span class=\"token comment\">// 例如 { page: { pageSize: 10, currentPage: 1 }, condition: { time: [1,2], keyword: '关键词' } }</span>\n\n    <span class=\"token comment\">// 如果不设置 gqlParamKey，其他参数将和 page 同级</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> time <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> v<span class=\"token punctuation\">.</span>condition\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      v<span class=\"token punctuation\">.</span>condition<span class=\"token punctuation\">.</span>startDate <span class=\"token operator\">=</span> time<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n      v<span class=\"token punctuation\">.</span>condition<span class=\"token punctuation\">.</span>endDate <span class=\"token operator\">=</span> time<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n      v<span class=\"token punctuation\">.</span>condition<span class=\"token punctuation\">.</span>time <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> v\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3><strong>非一般情况（一个参数）</strong></h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">## SomeCondition 里面包含 pageSize、currentPage、其他字段\n## 或 SomeCondition 里面包含 page、其他字段\nquery <span class=\"token function\">PagerSomeQuery</span><span class=\"token punctuation\">(</span>$condition<span class=\"token operator\">:</span> SomeCondition<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">PagerSomeQuery</span><span class=\"token punctuation\">(</span>condition<span class=\"token operator\">:</span> $condition<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>这种情况需要通过 formatParams 自定义格式化参数，把参数合并一下。</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> tableProps<span class=\"token punctuation\">,</span> form<span class=\"token punctuation\">,</span> submit<span class=\"token punctuation\">,</span> reset <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useTablePagingGQL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  gql<span class=\"token operator\">:</span> PageSaleDocument<span class=\"token punctuation\">,</span>\n  gqlKey<span class=\"token operator\">:</span> <span class=\"token string\">\"pageSale\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 设置额外参数的字段</span>\n  <span class=\"token comment\">// 或不设置，通过 formatParams 各种拼凑数据</span>\n  gqlParamKey<span class=\"token operator\">:</span> <span class=\"token string\">\"condition\"</span><span class=\"token punctuation\">,</span>\n  paramsValueTypeMap<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    time<span class=\"token operator\">:</span> <span class=\"token string\">\"dayjsDayRange\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">formatParams</span><span class=\"token operator\">:</span> v <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>restValues <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> v\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> time <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> restValues<span class=\"token punctuation\">.</span>condition\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      v<span class=\"token punctuation\">.</span>condition<span class=\"token punctuation\">.</span>startDate <span class=\"token operator\">=</span> time<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n      v<span class=\"token punctuation\">.</span>condition<span class=\"token punctuation\">.</span>endDate <span class=\"token operator\">=</span> time<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n      v<span class=\"token punctuation\">.</span>condition<span class=\"token punctuation\">.</span>time <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>restValues<span class=\"token punctuation\">,</span>\n      <span class=\"token operator\">...</span>page<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Apollo GraphQL 使用流程","date":"2021-11-17","description":null,"author":"骷髅王"}},"previous":{"fields":{"slug":"/frontEnd/typescript/TypeScript 笔记/"},"frontmatter":{"title":"TypeScript 笔记"}},"next":{"fields":{"slug":"/frontEnd/graghql/playground 接口文档到 Postman/playground 接口文档到 Postman/"},"frontmatter":{"title":"playground 接口文档到 Postman"}}},"pageContext":{"id":"bb612230-043b-5743-8e1c-9ccaa6a6858a","previousPostId":"af0743cb-3bd8-5a4c-8549-64430992c91b","nextPostId":"a639f4e0-ba41-5aa3-956c-57f0ec2fe7ad"}},"staticQueryHashes":["2841359383","3257411868"]}