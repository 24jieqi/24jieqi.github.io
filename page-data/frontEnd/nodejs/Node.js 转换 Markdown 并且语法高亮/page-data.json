{"componentChunkName":"component---src-templates-blog-post-js","path":"/frontEnd/nodejs/Node.js 转换 Markdown 并且语法高亮/","result":{"data":{"site":{"siteMetadata":{"title":"HJGP技术知识库"}},"markdownRemark":{"id":"6a7fd9b7-2980-5fe9-831d-29a54cc80521","excerpt":"最近写了一些小东西，用到了  作为文档编辑，并且显示到了页面上。 Markdown…","html":"<p>最近写了一些小东西，用到了 <code class=\"language-text\">Markdown</code> 作为文档编辑，并且显示到了页面上。</p>\n<h2>Markdown</h2>\n<p><code class=\"language-text\">Markdown</code> 的目标是实现「易读易写」。</p>\n<p>可读性，无论如何，都是最重要的。一份使用 <code class=\"language-text\">Markdown</code> 格式撰写的文件应该可以直接以纯文本发布，并且看起来不会像是由许多标签或是格式指令所构成。<code class=\"language-text\">Markdown</code> 语法受到一些既有 <code class=\"language-text\">text-to-HTML</code> 格式的影响，包括 <code class=\"language-text\">Setext</code>、<code class=\"language-text\">atx</code>、<code class=\"language-text\">Textile</code>、<code class=\"language-text\">reStructuredText</code>、<code class=\"language-text\">Grutatext</code> 和 <code class=\"language-text\">EtText</code>，而最大灵感来源其实是纯文本电子邮件的格式。</p>\n<p><a href=\"http://www.appinn.com/markdown/\">点击查看语法</a></p>\n<p>本文也使用 <code class=\"language-text\">Markdown</code> 编辑</p>\n<h2>marked</h2>\n<p>A full-featured markdown parser and compiler, written in JavaScript. Built for speed.</p>\n<p>一个可以在服务器端、浏览器端使用的转换库，简单、易用。</p>\n<p><a href=\"https://github.com/chjj/marked\">点击查看文档</a></p>\n<h2>highlight.js</h2>\n<p>Highlight.js is a syntax highlighter written in JavaScript. It works in the browser as well as on the server. It works with pretty much any markup, doesn’t depend on any framework and has automatic language detection.</p>\n<p><a href=\"https://github.com/isagalaev/highlight.js\">点击查看文档</a></p>\n<h2>如何使用</h2>\n<h3>普通文本</h3>\n<p>Node.js 转换文件</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> marked <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"marked\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> markdownString <span class=\"token operator\">=</span> <span class=\"token string\">'```js\\n console.log(\"hello\"); \\n```'</span>\n<span class=\"token keyword\">var</span> HTMLString <span class=\"token operator\">=</span> <span class=\"token function\">marked</span><span class=\"token punctuation\">(</span>markdownString<span class=\"token punctuation\">)</span></code></pre></div>\n<p>页面</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span>\n  <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.bootcss.com/github-markdown-css/2.8.0/github-markdown.min.css<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>markdown-body<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{HTMLString}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3>代码高亮</h3>\n<p>Node.js 转换文件</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> marked <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"marked\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 同步使用 highlight.js 转换代码</span>\nmarked<span class=\"token punctuation\">.</span><span class=\"token function\">setOptions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">highlight</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">code</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"highlight.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">highlightAuto</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">var</span> markdownString <span class=\"token operator\">=</span> <span class=\"token string\">'```js\\n console.log(\"hello\"); \\n```'</span>\n<span class=\"token keyword\">var</span> HTMLString <span class=\"token operator\">=</span> <span class=\"token function\">marked</span><span class=\"token punctuation\">(</span>markdownString<span class=\"token punctuation\">)</span></code></pre></div>\n<p>页面</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span>\n  <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.bootcss.com/github-markdown-css/2.8.0/github-markdown.min.css<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span>\n  <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.bootcss.com/highlight.js/9.12.0/styles/github-gist.min.css<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>markdown-body<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{HTMLString}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>Markdown、代码高亮样式</h2>\n<p>这里使用的是 <code class=\"language-text\">github-markdown-css</code> 样式库，可以根据自己的喜好修改。</p>\n<p>代码高亮用的是 <code class=\"language-text\">github-markdown</code> 样式库，两个加起来就是活脱脱的 GitHub 风格。</p>\n<p><code class=\"language-text\">highlight.js</code> 有很多不同的风格，可以在<a href=\"http://www.bootcdn.cn/highlight.js/\">这里</a>查看。</p>","frontmatter":{"title":"Node.js 转换 Markdown 并且语法高亮","date":"2021-11-03","description":null,"author":"onlyling"}},"previous":{"fields":{"slug":"/frontEnd/其他/new-people/newp/"},"frontmatter":{"title":"前端新人成长参考"}},"next":{"fields":{"slug":"/frontEnd/其他/CentOS 安装 MySQL/"},"frontmatter":{"title":"CentOS 安装 MySQL"}}},"pageContext":{"id":"6a7fd9b7-2980-5fe9-831d-29a54cc80521","previousPostId":"8c59608c-190c-5129-9bf5-686560837225","nextPostId":"923bb0b9-a708-5f78-95d5-ae2dc4eafb72"}},"staticQueryHashes":["2841359383","3257411868"]}